webpackJsonp([2,5,6,7],{920:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return m});var i=n(0),c=n.n(i),s=n(929),l=n(73),u=n.n(l),f=n(50),d=n(71),p=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(){var e,n,o,i;r(this,t);for(var c=arguments.length,l=Array(c),u=0;u<c;u++)l[u]=arguments[u];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={data:null,openedItem:0,search:""},o.getData=function(){Object(s.c)().then(function(e){return o.setState({data:e})})},o._handleBookmark=function(e){console.log(e);var t=o.state.data;-1===(t.follow?t.follow.map(function(e){return e.sourceId}):[]).indexOf(e)?Object(s.b)(e).then(function(e){if(!e||e.errors)return void d.toast.error("Topic followed failed.");d.toast.success("Topic followed successfully"),o.getData()}):Object(s.o)(e).then(function(e){if(!e||e.errors)return void d.toast.error("Topic un-followed failed.");d.toast.success("Topic un-followed successfully"),o.getData()})},o._goToDetails=function(e){o.props.history.push("/series/"+e)},i=n,a(o,i)}return o(t,e),p(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,r=t.search;if(u()(n))return null;var a=n.follow?n.follow.map(function(e){return e.sourceId}):[],o=[];return n.items.map(function(e){return-1!==e.title.toLowerCase().indexOf(r.toLowerCase())&&o.push(e),null}),c.a.createElement("div",{className:"series-list"},c.a.createElement("div",{className:"series-search-bar"},c.a.createElement(f.d,{name:"search",size:"big"}),c.a.createElement("input",{type:"text",name:"search",value:r,onChange:function(t){return e.setState({search:t.target.value})}})),c.a.createElement("div",{className:"series-path clearfix active"},c.a.createElement("div",{className:"series-items"},o.map(function(t){return c.a.createElement("div",{key:t._id,className:"series-item"+(-1===a.indexOf(t._id)?"":" follow")},c.a.createElement("div",{className:"series-item-content",onClick:function(){return e._goToDetails(t._id)}},t.title),c.a.createElement(f.i,{inverted:!0,trigger:c.a.createElement(f.d,{className:"series-bookmark"+(-1===a.indexOf(t._id)?"":" followed"),size:"large",name:"check square outline",onClick:function(){return e._handleBookmark(t._id)}}),content:"Follow this path"}))}))))}}]),t}(i.Component)},921:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return k});var c,s,l,u,f=n(0),d=n.n(f),p=n(444),m=n(935),h=n(71),g=(n.n(h),n(64)),v=n(148),y=n.n(v),b=n(50),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),k=(c=Object(g.b)(function(e){return{profile:e.profile}}))((u=l=function(e){function t(){var e,n,i,c;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state={articles:[],loadingId:"",page:1,stopLoadingMore:!1,showLoadMore:!1,loadingArticles:!0},i.loadMore=function(){i.state.loadingArticles||i.state.stopLoadingMore||i.setState({page:i.state.page+1,loadingArticles:!0},i.getArticles)},i.getArticles=function(){Object(p.e)({page:i.state.page,perPage:20,filter:{state:"published"}}).then(function(e){if(i.setState({loadingArticles:!1}),e&&!e.errors){var t=e.data,n=t.count,a=t.items,o=a.map(function(e){return Object.assign({_id:e._id},e.article)})||[],c=[].concat(r(i.state.articles),r(o)),s=!0,l=!1;c.length!==n&&0!==a.length||(l=!0,s=!1),i.setState({articles:c,stopLoadingMore:l,showLoadMore:s})}}).catch(function(e){console.log(e),i.setState({loadingArticles:!1,page:1===i.state.page?i.state.page:i.state.page-1})})},i._handleRemoveBookmark=function(e){i.setState({loadingId:e}),Object(p.b)(e).then(function(t){if(i.setState({loadingId:""}),!t||t.errros)return void h.toast.error("Remove bookmark failed.");h.toast.success("Remove bookmark successfully."),i.removeItem(e)})},i._handleArchiveBookmark=function(e){i.setState({loadingId:e}),Object(p.c)({filter:{contentId:e},record:{state:"archived"}}).then(function(t){if(i.setState({loadingId:""}),!t||t.errors)return void h.toast.error("Archive article failed.");h.toast.success("Archive article successfully."),i.removeItem(e)})},i.removeItem=function(e){var t=i.state.articles,n=y()(t,{_id:e});t.splice(n,1),i.setState([t])},i.login=function(){window.chrome.runtime.id?window.open("http://hasbrain.surge.sh/#/?extensionId="+(window.chrome.runtime.id||"")):window.open("http://hasbrain.surge.sh/#/?redirect_uri="+document.URL,"_blank")},c=n,o(i,c)}return i(t,e),_(t,[{key:"componentWillMount",value:function(){this.props.profile.isLogged&&this.getArticles()}},{key:"componentWillReceiveProps",value:function(e){console.log(this.props.profile.info._id),console.log(e.profile.info._id),this.props.profile.isLogged!==e.profile.isLogged&&e.profile.isLogged&&this.getArticles()}},{key:"render",value:function(){var e=this,t=this.state,n=t.articles,r=t.loadingId,a=t.showLoadMore,o=t.loadingArticles;return this.props.profile.isLogged?d.a.createElement("div",null,d.a.createElement("div",{className:"heading"}),d.a.createElement("div",{className:"article__list"},n.map(function(t){return d.a.createElement(m.a,{key:t._id,article:t,loading:t._id===r,onRemove:function(){return e._handleRemoveBookmark(t._id)},onArchive:function(){return e._handleArchiveBookmark(t._id)}})})),o&&0===n.length&&d.a.createElement("div",{className:"align-center"},"Loading saved articles..."),a&&d.a.createElement("div",{className:"align-center",style:{paddingTop:10,paddingBottom:30}},d.a.createElement(b.a,{primary:!0,size:"tiny",className:"article__btn-load-more",onClick:this.loadMore,loading:o},"Load More"))):d.a.createElement("div",null,"Please login. ",d.a.createElement("a",{onClick:this.login},"Login"))}}]),t}(f.Component),l.propTypes={},s=u))||s},922:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return m});var c=n(0),s=n.n(c),l=n(929),u=n(445),f=(n.n(u),n(50)),d=n(71),p=(n.n(d),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(){var e,n,i,c;a(this,t);for(var s=arguments.length,u=Array(s),f=0;f<s;f++)u[f]=arguments[f];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.state={data:[],followedData:[],search:"",openAddModal:!1,isPrivate:!0,title:"",description:"",myPaths:null},i.getData=function(){Object(l.g)().then(function(e){if(e&&!e.errors){var t=e.data.items;i.setState({data:t})}}),Object(l.d)().then(function(e){if(e&&!e.errors){var t=e.data.items;i.setState({followedData:t})}}),Object(l.e)().then(function(e){return i.setState({myPaths:e})})},i._handleBookmark=function(e){Object(l.a)(e).then(function(e){if(!e||e.errors)return void d.toast.error("Path followed failed.");d.toast.success("Path followed successfully"),i.getData()})},i._handleBookmarkRemove=function(e){Object(l.n)(e).then(function(e){if(!e||e.errors)return void d.toast.error("Path un-followed failed.");d.toast.success("Path un-followed successfully"),i.getData()})},i._goToDetails=function(e){i.props.history.push("/paths/"+e)},i._goToEditor=function(e){i.props.history.push("/path/"+e)},i._createPath=function(){Object(l.k)("","",!0).then(function(e){i._goToEditor(e.user.pathCreate.recordId)})},i._handleChange=function(e,t){var n=t.name,a=t.value;return i.setState(r({},n,a))},i._handlePathRemove=function(e){Object(l.l)(e).then(function(t){if(t.errors)return d.toast.error("Path removed fails");var n=i.state.myPaths,r=n.filter(function(t){return t._id!==e});i.setState({myPaths:r},function(){return d.toast.success("Path removed successfully,")})})},i._changePrivacy=function(e,t,n){Object(l.r)(e,t).then(function(e){var r=i.state.myPaths;r[n]._source.privacy=t,i.setState({myPaths:r}),d.toast.success("Path update successfully")})},c=n,o(i,c)}return i(t,e),p(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,r=t.followedData,a=t.search,o=t.myPaths;if(null===o)return null;var i=n.map(function(e){var t=!1;return r.forEach(function(n){e._id===n.contentId&&(t=!0)}),Object.assign({follow:t},e)}),c=[],l=[];return i.map(function(e){return-1!==e.title.toLowerCase().indexOf(a.toLowerCase())&&c.push(e),null}),o.map(function(e){return-1!==e._source.title.toLowerCase().indexOf(a.toLowerCase())&&l.push(e),null}),s.a.createElement("div",{className:"series-list"},s.a.createElement("div",{className:"series-search-bar"},s.a.createElement(f.d,{name:"search",size:"big"}),s.a.createElement("input",{type:"text",name:"search",value:a,onChange:function(t){return e.setState({search:t.target.value})}})),s.a.createElement("div",{className:"series-path clearfix active"},s.a.createElement("h3",{className:"recommend-title"},"My paths",s.a.createElement(f.a,{onClick:this._createPath,floated:"right"},"Add a path")),null!==o&&s.a.createElement("div",{className:"series-items",style:{maxHeight:600*Math.ceil(l.length/4)}},l.map(function(t,n){return s.a.createElement("div",{key:n,className:"series-item"+(t.follow?" follow":"")},s.a.createElement("div",{className:"series-item-content",onClick:function(){return e._goToEditor(t._id)}},t._source.title),"private"===t._source.privacy&&s.a.createElement(f.f,{className:"path-privacy",onClick:function(){return e._changePrivacy(t._id,"everyone",n)}},s.a.createElement(f.d,{name:"lock"}),"Private"),"everyone"===t._source.privacy&&s.a.createElement(f.f,{className:"path-privacy",onClick:function(){return e._changePrivacy(t._id,"private",n)}},s.a.createElement(f.d,{name:"globe"}),"Public"),s.a.createElement(f.i,{inverted:!0,trigger:s.a.createElement(f.d,{className:"series-bookmark",size:"large",name:"trash",onClick:function(){return e._handlePathRemove(t._id)}}),content:"Remove this path"}))})),s.a.createElement("h3",{className:"recommend-title"},"Recommended paths"),s.a.createElement("div",{className:"series-items",style:{maxHeight:600*Math.ceil(i.length/4)}},c.map(function(t,n){return s.a.createElement("div",{key:n,className:"series-item"+(t.follow?" follow":"")},s.a.createElement("div",{className:"series-item-content",onClick:function(){return e._goToDetails(t._id)}},t.title),s.a.createElement(f.i,{inverted:!0,trigger:s.a.createElement(f.d,{className:"series-bookmark"+(t.follow?" followed":""),size:"large",name:"check square outline",onClick:function(){return t.follow?e._handleBookmarkRemove(t._id):e._handleBookmark(t._id)}}),content:"Follow this path"}))}))))}}]),t}(c.Component)},923:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return m});var i=n(0),c=n.n(i),s=n(922),l=n(51),u=n(921),f=n(948),d=n(950),p=(n(920),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),m=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"home-page"},c.a.createElement(l.d,{exact:!0,path:"/home/explore",component:f.a}),c.a.createElement(l.d,{exact:!0,path:"/home/bookmark",component:u.default}),c.a.createElement(l.d,{exact:!0,path:"/home/path",component:s.default}),c.a.createElement(l.d,{exact:!0,path:"/home/contributor-topics",component:d.a}))}}]),t}(i.Component)},929:function(e,t,n){"use strict";function r(e){return e.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\/]/g,"\\/").replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t")}n.d(t,"g",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return f}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return p}),n.d(t,"j",function(){return m}),n.d(t,"m",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"s",function(){return y}),n.d(t,"r",function(){return b}),n.d(t,"p",function(){return _}),n.d(t,"k",function(){return k}),n.d(t,"l",function(){return E}),n.d(t,"e",function(){return O});var a=n(147),o=function(){return Object(a.a)({query:"\n      {\n      viewer {\n        pathRecommendPagination {\n          count\n          items {\n            _id\n            title\n            topicData {\n              _id\n            }\n          }\n        }\n      }\n    }\n\n    "}).then(function(e){return!e||e.errors?e:{data:e.data.viewer.pathRecommendPagination}})},i=function(){return Object(a.a)({query:"\n      query{\n        viewer{\n          topicPagination(page: 1, perPage: 100) {\n            count\n            items {\n              group\n              title\n              _id\n              shortDescription\n              image\n            }\n            follow {\n              sourceId\n            }\n          }\n        }\n      }\n    "}).then(function(e){return!e||e.errors?e:e.data.viewer.topicPagination})},c=function(){return Object(a.a)({query:'\n      {\n      viewer {\n        userbookmarkPagination (filter: {kind: "pathtype"}) {\n          items {\n            contentId\n            content {\n              title\n            }\n          }\n        }\n      }\n    }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.viewer.userbookmarkPagination}})},s=function(e){return Object(a.a)({query:'\n      query{\n        viewer{\n          articleFromTopic(filter: {\n            topicId: "'+e+'"\n          }) {\n            title\n            _id\n            url\n            authorImage\n            author\n            shortDescription\n            longDescription\n            sourceImage\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data.viewer.articleFromTopic})},l=function(e){return Object(a.a)({query:'\n      {\n        viewer {\n          pathPagination(filter: {_id: "'+e+'"}) {\n            items {\n              privacy\n              title\n              projectId\n              shortDescription\n              layout\n              topic {\n                topicId\n                levelId\n                createdAt\n              }\n              topicData {\n                  _id\n                title\n                articleData {\n                  _id\n                  sourceName\n                  kind\n                  title\n                  contentId\n                  sourceImage\n                  shortDescription\n                  sourceActionName\n                  sourceActionCount\n                  sourceCommentCount\n                  readingTime\n                  sourceCreatedAt\n                  sourceData {\n                    title\n                    sourceImage\n                  }\n                  lastActionData{\n                    userData {\n                      profileId\n                      name\n                    }\n                    commentData{\n                      comment\n                    }\n                    highlightData{\n                      highlights {\n                        comment\n                        highlight\n                        note\n                        position\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data.viewer.pathPagination.items[0]})},u=function(e){return Object(a.a)({query:'\n      mutation {\n        user {\n          bookmarkCreate (record: {\n            contentId: "'+e+'"\n            kind: "pathtype"\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkCreate}})},f=function(e){return Object(a.a)({query:'\n      mutation {\n        user {\n          followCreate (record: {\n            sourceId: "'+e+'"\n            kind: topictype\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkCreate}})},d=function(e){return Object(a.a)({query:'\n      mutation {\n        user {\n          bookmarkRemoveOne (filter: {\n            contentId: "'+e+'"\n            kind: "pathtype"\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkRemoveOne}})},p=function(e){return Object(a.a)({query:'\n      mutation {\n        user {\n          followRemoveOne (filter: {\n            sourceId: "'+e+'"\n            kind: topictype\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkRemoveOne}})},m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"5afb057a2808c00064203a3e";return Object(a.a)({query:'\n      mutation{\n        user{\n          pathAddTopic(record: {\n            topicId: "'+t+'",\n            levelId: "'+n+'"\n          }, filter: {\n            _id: "'+e+'"\n          }) {\n            privacy\n            profileId\n              topic {\n                topicId\n                levelId\n                createdAt\n              }\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user}})},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"5afb057a2808c00064203a3e";return Object(a.a)({query:'\n      mutation{\n        user{\n          pathRemoveTopic(record: {\n            topicId: "'+t+'",\n            levelId: "'+n+'"\n          }, filter: {\n            _id: "'+e+'"\n          }) {\n            privacy\n            profileId\n              topic {\n                topicId\n                levelId\n                createdAt\n              }\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user}})},g=function(){return Object(a.a)({query:"\n      query {\n        viewer {\n          levelMany{\n            _id\n            title\n            levelNumber\n          }\n        }\n      }\n    "}).then(function(e){return!e||e.errors?e:e.data.viewer.levelMany})},v=function(e,t){var n=r(JSON.stringify(t));return Object(a.a)({query:'\n      mutation {\n        user {\n          pathUpdateOne (\n            record: {layout: "'+n+'"},\n            filter: {_id: "'+e+'"}) {\n            recordId\n          } \n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data})},y=function(e,t){return Object(a.a)({query:'\n      mutation {\n        user {\n          pathUpdateOne (\n            record: {title: "'+t+'"},\n            filter: {_id: "'+e+'"}) {\n            recordId\n          } \n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data})},b=function(e,t){return Object(a.a)({query:"\n      mutation {\n        user {\n          pathUpdateOne (\n            record: {privacy: "+t+'},\n            filter: {_id: "'+e+'"}) {\n            recordId\n          } \n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data})},_=function(e,t){return Object(a.a)({query:'\n      mutation {\n        user {\n          pathUpdateOne (\n            record: {shortDescription: "'+t+'"},\n            filter: {_id: "'+e+'"}) {\n            recordId\n          } \n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data})},k=function(e,t,n){var r=n?"private":"everyone";return Object(a.a)({query:'\n      mutation{\n        user{\n          pathCreate(record: {\n            title: "'+e+'",\n            privacy: '+r+',\n            shortDescription: "'+t+'"\n          }){\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data})},E=function(e){return Object(a.a)({query:'\n      mutation {\n        user {\n          pathRemoveOne(\n            filter: {\n              _id: "'+e+'"\n            }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:e.data})},O=function(){return Object(a.a)({query:"\n      query{\n        viewer{\n          pathSearchUser {\n            count\n            hits {\n              _id\n              _source {\n                privacy\n                title\n              }\n            }\n          }\n        }\n      }\n    "}).then(function(e){return!e||e.errors?e:e.data.viewer.pathSearchUser.hits})}},935:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var i,c,s=n(0),l=n.n(s),u=n(1),f=n.n(u),d=n(50),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(c=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(this.props.article)!==JSON.stringify(e.article)||this.props.article.isBookmark!==e.article.isBookmark||this.props.loading!==e.loading}},{key:"render",value:function(){var e=this.props,t=e.article,n=e.loading,r=e.onArchive,a=e.onRemove,o=e.onBookmark;return l.a.createElement("div",{className:"article"},n&&l.a.createElement("div",{className:"ui dimmer active inverted"},l.a.createElement("div",{className:"ui loader"})),l.a.createElement("a",{href:t.contentId,target:"_blank",className:"article__title"},t.title||t.contentId),l.a.createElement("a",{className:"article__image",href:t.contentId,target:"_blank"},t.sourceImage?l.a.createElement("img",{src:t.sourceImage,alt:""}):l.a.createElement("p",null,t.shortDescription)),l.a.createElement("div",{className:"article__content"},l.a.createElement("div",{className:"article__actions"},l.a.createElement("div",{className:"article__source"},t.sourceName),l.a.createElement("div",{className:"article_settings"},l.a.createElement("div",{className:"article__action"},l.a.createElement("i",{className:"bookmark"+(!t.isBookmark&&"outline")+"icon"}))),o&&l.a.createElement("div",{className:"article_settings"},l.a.createElement("div",{onClick:o,className:"article__action"},l.a.createElement(d.d,{name:"bookmark"+(t.isBookmark?"":" outline")}))),r&&a&&l.a.createElement("div",{className:"article__settings"},l.a.createElement(d.c,{icon:"ellipsis vertical"},l.a.createElement(d.c.Menu,null,l.a.createElement(d.c.Item,{icon:"bookmark outline",text:"Remove bookmark",onClick:a}),l.a.createElement(d.c.Item,{icon:"trash",text:"Archive bookmark",onClick:r})))))))}}]),t}(s.Component),i.propTypes={article:f.a.object,loading:f.a.bool,onArchive:f.a.func,onRemove:f.a.func,onBookmark:f.a.func},c)},936:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p});var i=n(0),c=n.n(i),s=n(937),l=n.n(s),u=n(938),f=n.n(u),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),d(t,[{key:"render",value:function(){var e=this.props.data,t=null!==e.commentData.comment,n=null!==e.highlightData.highlights;return c.a.createElement("div",{className:"LastActionData"},c.a.createElement("div",{className:"action-title"},n&&c.a.createElement("span",{className:"action-name-wrap"},c.a.createElement("span",{className:"action-icon"},c.a.createElement("img",{src:l.a,alt:"marker"})," "),c.a.createElement("span",{className:"action-name"},"Highlight\xa0")),n&&t&&c.a.createElement("span",{className:"feed-and"}," and "),t&&c.a.createElement("span",{className:"action-name-wrap"},c.a.createElement("span",{className:"action-icon"},c.a.createElement("img",{src:f.a,alt:"comment"})," "),c.a.createElement("span",{className:"action-name"},"Comment ")),c.a.createElement("span",null," \xa0 in "),c.a.createElement("span",{className:"action-topic"},"#Blockchain")),c.a.createElement("div",{className:"action-user clearfix"},c.a.createElement("div",{className:"action-avatar",style:{backgroundImage:"url(https://s3-ap-southeast-1.amazonaws.com/userkit-identity-pro/avatars/"+e.userData.profileId+"medium.jpg?)"}}),c.a.createElement("div",{className:"action-user-details"},c.a.createElement("div",{className:"action-user-name"},e.userData.name),c.a.createElement("div",{className:"action-user-title"},"USer title goes here"))),t&&c.a.createElement("div",{className:"action-comment"},e.commentData.comment," ",e.userData.profileId),n&&e.highlightData.highlights.map(function(e,t){return c.a.createElement("div",{key:t,className:"feed-highlight"},e.highlight)}))}}]),t}(i.Component)},937:function(e,t,n){e.exports=n.p+"static/media/marker.2b8b8b57.svg"},938:function(e,t,n){e.exports=n.p+"static/media/comment.65a34e6d.svg"},939:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var i=n(0),c=n.n(i),s=n(940),l=n.n(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props.feed;return c.a.createElement("div",{className:"FeedContent"},c.a.createElement("div",{className:"feed-content-header clearfix"},c.a.createElement("div",{className:"feed-images left"},c.a.createElement("div",{className:"feed-photo",style:{backgroundImage:"url("+e.sourceImage+")"}}),c.a.createElement("div",{className:"feed-source-logo",style:{backgroundImage:"url("+e.sourceData.sourceImage+")"}})),c.a.createElement("div",{className:"feed-bookmark right"},c.a.createElement("div",{className:"clearfix"},c.a.createElement("div",{className:"left feed-topic"},c.a.createElement("div",{className:"feed-topic-name"},"#Web #UX"),c.a.createElement("div",{className:"feed-topic-level"},"Level 3")),c.a.createElement("div",{className:"right"},c.a.createElement("img",{src:l.a,alt:"bookmark"}))))),c.a.createElement("div",{className:"feed-content-text"},c.a.createElement("h2",null,c.a.createElement("a",{src:e.contentId},e.title)),c.a.createElement("p",null,e.shortDescription)))}}]),t}(i.Component)},940:function(e,t,n){e.exports=n.p+"static/media/bookmark-add.ac8c9d69.svg"},948:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return C});var c,s,l,u,f=n(0),d=n.n(f),p=n(444),m=n(149),h=(n.n(m),n(71)),g=(n.n(h),n(148)),v=n.n(g),y=n(50),b=n(64),_=n(949),k=n(231),E=n(447),O=n(74),w=n(232),j=n.n(w),N=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),I={loadingArticles:!1,showLoadMore:!1,stopLoadingMore:!1,articles:[],page:1,currentRank:null},P=Object.assign({},I,{limit:20,loadingId:"",showEdit:!1,key:0,followingTopics:[],selectedTopicIds:[]}),C=(c=Object(b.b)(function(e){var t=e.profile,n=e.common;return{profile:t,sources:n.sources,topics:n.topics}}))((u=l=function(e){function t(){var e,n,i,c;a(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state=P,i.loadMore=function(){i.state.loadingArticles||i.state.stopLoadingMore||i.setState({page:i.state.page+1},i.getArticles)},i.getArticles=function(){var e=i.state,t=e.limit,n=e.page,a=e.selectedTopicIds,o=e.currentRank;i.setState({loadingArticles:!0}),Object(p.f)({page:n,perPage:t,currentRank:o,topics:a}).then(function(e){if(i.setState({loadingArticles:!1}),e&&!e.errors){var t=e.data,n=t.count,a=void 0===n?0:n,o=t.items,c=void 0===o?[]:o;if(c){var s=c.map(function(e){return Object.assign({},e,{isBookmark:!1})})||[],l=[].concat(r(i.state.articles),r(s)),u=!0,f=!1;l.length!==a&&0!==c.length||(f=!0,u=!1);var d=c[c.length-1]&&c[c.length-1].rank;i.setState({articles:l,stopLoadingMore:f,showLoadMore:u,currentRank:d})}}},function(e){console.log("error",e),i.setState({loadingArticles:!1,page:1===n?n:n-1})})},i._handleBookmark=function(e,t){i.setState({loadingId:e}),Object(p.a)(e).then(function(e){if(i.setState({loadingId:""}),!e||e.errors)return void h.toast.error("Bookmark article failed.");h.toast.success("Bookmark article successfully.");var n=[].concat(r(i.state.articles)),a=v()(n,{_id:t});n[a]=Object.assign({},n[a],{isBookmark:!0}),i.setState({articles:n})})},i._handleSelectTopic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=i.props,n=t.profile.info,a=n._id,o=n.chosen_topics,c=void 0===o?[]:o,s=t.dispatch,l=[].concat(r(c));if(e){var u=l.indexOf(e);-1===u?l.push(e):l.splice(u,1)}else l=[];s({type:"UPDATE_CHOSEN_TOPICS",result:l}),a&&(i.setState(Object.assign({},I),i.getArticles),Object(k.b)(a,{chosen_topics:l}).catch(function(e){console.log(e)}))},i._renderFilters=function(){var e=i.props.topics;if(!e.count)return null;var t=e.items,n=void 0===t?[]:t,r=e.follow,a=void 0===r?[]:r,o=i.props.profile.info.chosen_topics,c=void 0===o?[]:o;return a.map(function(e){var t=v()(n,{_id:e});if(-1===t)return null;var r=n[t];return d.a.createElement(y.f,{key:e,content:r.title,active:-1!==c.indexOf(e),onClick:function(){return i._handleSelectTopic(e)}})})},i._handleCloseEdit=function(){Object(O.a)("topictype").then(function(e){e&&!e.errors&&i.props.dispatch({type:"GET_FOLLOWING_TOPICS",result:e.data})}),i.setState(Object.assign({},I,{showEdit:!1,key:i.state.key+1}),i.getArticles)},i._handleKeyChange=function(){i.setState({key:i.state.key+1})},i._handleScrollLeft=function(){j()(".feed__category-scrollList").animate({scrollLeft:"-=500"},350)},i._handleScrollRight=function(){j()(".feed__category-scrollList").animate({scrollLeft:"+=500"},350)},c=n,o(i,c)}return i(t,e),N(t,[{key:"componentWillMount",value:function(){this.props.profile.isLogged&&this.getArticles()}},{key:"componentWillReceiveProps",value:function(e){this.props.profile.isLogged!==e.profile.isLogged&&e.profile.isLogged?this.getArticles():this.props.profile.isLogged===e.profile.isLogged||e.profile.isLogged||this.setState(P)}},{key:"render",value:function(){var e=this,t=this.state,n=t.articles,r=t.loadingId,a=t.showLoadMore,o=t.loadingArticles,i=(t.selectedTopicIds,t.showEdit),c=t.key,s=this.props.profile.info.chosen_topics,l=void 0===s?[]:s;return d.a.createElement("div",{key:c},i&&d.a.createElement(E.a,{onCloseEdit:this._handleCloseEdit,onChangeKey:this._handleKeyChange}),d.a.createElement("div",{style:{display:i?"none":"block"}},d.a.createElement("div",{className:"feed__category"},d.a.createElement("div",{className:"feed__category-list"},d.a.createElement(y.a,{icon:"angle double left",className:"btn-scroll",onClick:this._handleScrollLeft}),d.a.createElement("div",{className:"feed__category-scrollList"},d.a.createElement(y.f,{content:"All",active:0===l.length,onClick:function(){return e._handleSelectTopic(null)}}),this._renderFilters()),d.a.createElement(y.a,{icon:"angle double right",className:"btn-scroll",onClick:this._handleScrollRight})),d.a.createElement("div",{className:"feed__category-edit",onClick:function(){return e.setState({showEdit:!0})}},d.a.createElement(y.d,{name:"sliders"}))),d.a.createElement("div",{className:"feed__list clearfix"},n.map(function(t){return d.a.createElement(_.a,{key:t._id,feed:t,loading:t.contentData._id===r,onBookmark:function(){return e._handleBookmark(t.contentData._id,t._id)}})})),o&&0===n.length&&d.a.createElement("div",{className:"align-center"},"Loading feeds..."),a&&d.a.createElement("div",{className:"align-center",style:{paddingTop:10,paddingBottom:30}},d.a.createElement(y.a,{primary:!0,size:"tiny",className:"article__btn-load-more",onClick:this.loadMore,loading:o},"Load More"))))}}]),t}(f.Component),l.propTypes={},s=u))||s},949:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return h});var i,c,s=n(0),l=n.n(s),u=n(1),f=n.n(u),d=(n(50),n(936)),p=n(939),m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=(c=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),m(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(this.props.feed)!==JSON.stringify(e.feed)||this.props.feed.isBookmark!==e.feed.isBookmark||this.props.loading!==e.loading}},{key:"getAutoResponsiveProps",value:function(){return{itemMargin:10,containerWidth:this.state.containerWidth||document.body.clientWidth,itemClassName:"item",gridWidth:100,transitionDuration:".5"}}},{key:"render",value:function(){var e=this.props,t=(e.onBookmark,e.feed),n=e.loading,r=t.contentData;t.isBookmark;if(!r)return null;var a=r.lastActionData,o=null!==a.userData.profileId;return l.a.createElement("div",{className:"feed"+(o?" big":"")+" "+this.props.className},l.a.createElement("div",{className:"feed__box"},n&&l.a.createElement("div",{className:"ui dimmer active inverted"},l.a.createElement("div",{className:"ui loader"})),o&&l.a.createElement(d.a,{data:a}),l.a.createElement(p.a,{feed:r})))}}]),t}(s.Component),i.propTypes={feed:f.a.object,onBookmark:f.a.func,loading:f.a.bool},c)},950:function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return N});var l,u,f,d,p=n(0),m=n.n(p),h=n(951),g=n(149),v=n.n(g),y=n(71),b=(n.n(y),n(446)),_=n.n(b),k=n(50),E=n(64),O=n(952),w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),j={loadingArticles:!1,showLoadMore:!1,stopLoadingMore:!1,limit:20,skip:0,articles:[],loadingId:"",page:1,isTopicSelected:{}},N=(l=Object(E.b)(function(e){var t=e.profile,n=e.common.topics.items;return{profile:t,topicEntities:_()(n,"_id")}}))((d=f=function(e){function t(){var e,n,s,l;i(this,t);for(var u=arguments.length,f=Array(u),d=0;d<u;d++)f[d]=arguments[d];return n=s=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(f))),s.state=j,s.loadMore=function(){s.state.loadingArticles||s.state.stopLoadingMore||s.setState({page:s.state.page+1},s.getArticles)},s._handleToggleTopic=function(e){s.setState({isTopicSelected:Object.assign({},s.state.isTopicSelected,o({},e,!s.state.isTopicSelected[e]))})},s.getArticles=function(){var e=s.state,t=e.limit,n=e.page,i=s.props,c=i.profile.info.articleFilter,l=void 0===c?{}:c,u=i.topicEntities;s.setState({loadingArticles:!0});var f=[],d=[],p=[];Object.values(l).forEach(function(e){p=v()(p,e)}),p.map(function(e){return d.push(e)}),Object.keys(l).map(function(e){return f.push(e)}),Object(h.a)({page:n,perPage:t}).then(function(e){if(s.setState({loadingArticles:!1}),e&&!e.errors){var t=e.data,n=t.count,i=void 0===n?0:n,c=t.items,l=void 0===c?[]:c;if(l){var f=[].concat(a(s.state.articles),a(l)).map(function(e){var t=e.topic,n=r(e,["topic"]);return Object.assign({},n,{topic:t.map(function(e){var t=e.topicId,n=r(e,["topicId"]);return Object.assign({},n,{topicId:t,topicTitle:u[t].title})})})}),d=!0,p=!1;f.length!==i&&0!==l.length||(p=!0,d=!1);var m=f.reduce(function(e,t){var n=t.topic;return[].concat(a(e),a(n))},[]),h=m.reduce(function(e,t){var n=t.topicId;return Object.assign({},e,o({},n,!0))},{});s.setState({articles:f,stopLoadingMore:p,showLoadMore:d,isTopicSelected:h})}}},function(e){console.log("error",e),s.setState({loadingArticles:!1,page:1===n?n:n-1})})},s._handleRemoveFromTopic=function(e){s.setState({loadingId:e}),Object(h.b)(e).then(function(t){if(s.setState({loadingId:""}),!t||t.errors)return void y.toast.error("Remove article from topics failed.");y.toast.success("Successfully remove article from topics."),s.setState({articles:s.state.articles.filter(function(t){var n=t._id;return e!==n})})})},l=n,c(s,l)}return s(t,e),w(t,[{key:"componentWillMount",value:function(){this.props.profile.isLogged&&this.getArticles()}},{key:"componentWillReceiveProps",value:function(e){this.props.profile.isLogged!==e.profile.isLogged&&e.profile.isLogged?this.getArticles():this.props.profile.isLogged===e.profile.isLogged||e.profile.isLogged||this.setState(j)}},{key:"render",value:function(){var e=this,t=this.state,n=t.articles,r=t.loadingId,a=t.showLoadMore,o=t.loadingArticles,i=t.isTopicSelected,c=n.filter(function(e){return e.topic.some(function(e){var t=e.topicId;return i[t]})}),s=this.props.topicEntities;return m.a.createElement("div",{style:{paddingTop:30}},m.a.createElement("div",{className:"feed__category"},m.a.createElement("div",{className:"feed__category-list"},Object.keys(i).map(function(t){return m.a.createElement(k.f,{key:t,content:s[t].title,active:i[t],onClick:function(){return e._handleToggleTopic(t)}})}))),m.a.createElement("div",{className:"feed__list clearfix"},c.map(function(t){return m.a.createElement(O.a,{key:t._id,data:t,loading:t._id===r,onRemoveFromTopic:function(){return e._handleRemoveFromTopic(t._id)}})})),o&&0===n.length&&m.a.createElement("div",{className:"align-center"},"Loading articles..."),a&&m.a.createElement("div",{className:"align-center",style:{paddingTop:10,paddingBottom:30}},m.a.createElement(k.a,{primary:!0,size:"tiny",className:"article__btn-load-more",onClick:this.loadMore,loading:o},"Load More")))}}]),t}(p.Component),f.propTypes={},u=d))||u},951:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o});var r=n(147),a=function(){return Object(r.a)({query:"\n      query {\n        viewer {\n          articlePaginationByContributor (page: 1, perPage: 200) {\n            count\n            items {\n              \n_id\ntopic {\n  topicId\n  levelId\n  createdAt\n  profileId\n}\n\nsourceCreatedAt\ncontentId\nreadingTime\ntitle\nlongDescription\nshortDescription\nsourceImage\nkind\n\n            }\n          }\n        }\n      }\n    "}).then(function(e){return!e||e.errors?e:{data:e.data.viewer.articlePaginationByContributor}})},o=function(e){return Object(r.a)({query:'\n      mutation {\n        user {\n          articleRemoveAddTopicsLevel (filter: {\n            _id: "'+e+'"\n          }) {\n            topic {\n              topicId\n              levelId\n              createdAt\n              profileId\n            }\n            url\n            author\n            authorImage\n            sourceId\n            category\n            sourceGroup\n            sourceName\n            sourceCreatedAt\n            contentId\n            content\n            readingTime\n            title\n            longDescription\n            shortDescription\n            sourceImage\n            state\n            createdAt\n            updatedAt\n          }\n        }\n      }\n  '}).then(function(e){return!e||e.errors?e:{data:e.data.user.articleRemoveAddTopicsLevel}})}},952:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var i,c,s=n(0),l=n.n(s),u=n(1),f=n.n(u),d=n(953),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=(c=i=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),p(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(this.props.data)!==JSON.stringify(e.data)||this.props.loading!==e.loading}},{key:"getAutoResponsiveProps",value:function(){return{itemMargin:10,containerWidth:this.state.containerWidth||document.body.clientWidth,itemClassName:"item",gridWidth:100,transitionDuration:".5"}}},{key:"render",value:function(){var e=this.props,t=e.onRemoveFromTopic,n=void 0===t?console.log:t,r=e.loading,a=e.data,o=a.title,i=a.shortDescription,c=a.sourceImage,s=a.topic;return l.a.createElement("div",{className:"feed"},l.a.createElement("div",{className:"feed__box"},r&&l.a.createElement("div",{className:"ui dimmer active inverted"},l.a.createElement("div",{className:"ui loader"})),l.a.createElement(d.a,{feed:{title:o,shortDescription:i,sourceImage:c,topic:s,sourceData:{}},onRemoveFromTopic:n})))}}]),t}(s.Component),i.propTypes={data:f.a.object,onRemoveFromTopic:f.a.func,loading:f.a.bool},c)},953:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return f});var i=n(0),c=n.n(i),s=n(954),l=n.n(s),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.feed,n=e.onRemoveFromTopic,r=Array.from(new Set(t.topic.map(function(e){return e.topicTitle})));return c.a.createElement("div",{className:"FeedContent"},c.a.createElement("div",{className:"feed-content-header clearfix"},c.a.createElement("div",{className:"feed-images left"},c.a.createElement("div",{className:"feed-photo",style:{backgroundImage:"url("+t.sourceImage+")"}}),c.a.createElement("div",{className:"feed-source-logo",style:{backgroundImage:"url("+t.sourceData.sourceImage+")"}})),c.a.createElement("div",{className:"feed-bookmark right",style:{width:"calc(100% - 100px)"}},c.a.createElement("div",{className:"clearfix"},c.a.createElement("div",{className:"right",onClick:n},c.a.createElement("img",{width:15,src:l.a,alt:"remove-from-topic"})),c.a.createElement("div",{className:"left feed-topic"},r.map(function(e){return c.a.createElement("div",{key:e,className:"feed-topic-name"},"#",e)}))))),c.a.createElement("div",{className:"feed-content-text"},c.a.createElement("h2",null,t.title),c.a.createElement("p",null,t.shortDescription)))}}]),t}(i.Component)},954:function(e,t,n){e.exports=n.p+"static/media/remove-from-topic.09aba77d.svg"}});