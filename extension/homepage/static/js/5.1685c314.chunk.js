webpackJsonp([5],{919:function(e,n,t){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),t.d(n,"default",function(){return h});var i=t(0),c=t.n(i),s=t(923),u=t(69),l=t.n(u),d=t(89),m=t(226),f=(t.n(m),function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()),h=function(e){function n(){var e,t,o,i;r(this,n);for(var c=arguments.length,u=Array(c),l=0;l<c;l++)u[l]=arguments[l];return t=o=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(u))),o.state={data:null,followedData:null,openedItem:0},o.getData=function(){Object(s.e)().then(function(e){if(e&&!e.errors){var n=e.data.items;o.setState({data:n})}}),Object(s.d)().then(function(e){if(e&&!e.errors){var n=e.data.items;o.setState({followedData:n})}})},o._handleBookmark=function(e){console.log(e),Object(s.a)(e).then(function(e){if(!e||e.errors)return void m.toast.error("Path followed failed.");m.toast.success("Path followed successfully"),o.getData()})},o._handleBookmarkRemove=function(e){Object(s.f)(e).then(function(e){if(!e||e.errors)return void m.toast.error("Path un-followed failed.");m.toast.success("Path un-followed successfully"),o.getData()})},i=t,a(o,i)}return o(n,e),f(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,n=this.state,t=n.data,r=n.openedItem,a=n.followedData;return l()(t)?null:l()(a)?null:c.a.createElement("div",{className:"series-list"},c.a.createElement("div",{className:"series-search-bar"},c.a.createElement(d.c,{name:"search",size:"big"}),c.a.createElement("input",{type:"text",name:"search"})),c.a.createElement("h3",{className:"recommend-title"},"Recommended Path"),c.a.createElement("div",{className:"series-path clearfix "+(0===r?"active":"")},c.a.createElement("div",{className:"expanded-icon"},c.a.createElement(d.c,{name:"angle double down",size:"big",onClick:function(){return e.setState({openedItem:0})}})),c.a.createElement("div",{className:"series-items",style:{maxHeight:600*Math.ceil(t.length/4)}},t.map(function(n,t){return c.a.createElement("div",{key:t,className:"series-item"},c.a.createElement("div",{className:"series-item-content"},n.title),c.a.createElement(d.g,{inverted:!0,trigger:c.a.createElement(d.c,{className:"series-bookmark",size:"large",name:"bookmark",onClick:function(){return e._handleBookmark(n._id)}}),content:"Follow this path"}))}))),c.a.createElement("h3",{className:"recommend-title"},"Followed Path"),c.a.createElement("div",{className:"series-path clearfix "+(1===r?"active":"")},c.a.createElement("div",{className:"expanded-icon"},c.a.createElement(d.c,{name:"angle double down",size:"big",onClick:function(){return e.setState({openedItem:1})}})),c.a.createElement("div",{className:"series-items",style:{maxHeight:600*Math.ceil(t.length/4)}},a.map(function(n,t){return c.a.createElement("div",{key:t,className:"series-item"},c.a.createElement("div",{className:"series-item-content"},n.content.title),c.a.createElement(d.g,{inverted:!0,trigger:c.a.createElement(d.c,{className:"series-bookmark",size:"large",name:"trash",onClick:function(){return e._handleBookmarkRemove(n.contentId)}}),content:"Un-follow this path"}))}))))}}]),n}(i.Component)},923:function(e,n,t){"use strict";t.d(n,"e",function(){return a}),t.d(n,"c",function(){return o}),t.d(n,"d",function(){return i}),t.d(n,"a",function(){return c}),t.d(n,"b",function(){return s}),t.d(n,"f",function(){return u}),t.d(n,"g",function(){return l});var r=t(227),a=function(){return Object(r.a)({query:"\n      {\n        viewer {\n          pathRecommend {\n            items {\n              title\n              kind\n              _id\n              contentData {\n                _id\n                title\n                kind\n                contentData {\n                  _id\n                  title\n                  kind\n                  contentId\n                  shortDescription\n                  sourceImage\n                }\n              }\n            }\n          }\n        }\n      }\n    "}).then(function(e){return!e||e.errors?e:{data:e.data.viewer.pathRecommend}})},o=function(){return Object(r.a)({query:"\n      query{\n        viewer{\n          topicPagination(page: 1, perPage: 100) {\n            count\n            items{\n              title\n              _id\n            \n            }\n            follow {\n              sourceId\n            }\n          }\n        }\n      }\n    "}).then(function(e){return!e||e.errors?e:e.data.viewer.topicPagination})},i=function(){return Object(r.a)({query:'\n      {\n      viewer {\n        userbookmarkPagination (filter: {kind: "pathtype"}) {\n          items {\n            contentId\n            content {\n              title\n            }\n          }\n        }\n      }\n    }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.viewer.userbookmarkPagination}})},c=function(e){return Object(r.a)({query:'\n      mutation {\n        user {\n          bookmarkCreate (record: {\n            contentId: "'+e+'"\n            kind: "pathtype"\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkCreate}})},s=function(e){return Object(r.a)({query:'\n      mutation {\n        user {\n          followCreate (record: {\n            sourceId: "'+e+'"\n            kind: topictype\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkCreate}})},u=function(e){return Object(r.a)({query:'\n      mutation {\n        user {\n          bookmarkRemoveOne (filter: {\n            contentId: "'+e+'"\n            kind: "pathtype"\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkRemoveOne}})},l=function(e){return Object(r.a)({query:'\n      mutation {\n        user {\n          followRemoveOne (filter: {\n            sourceId: "'+e+'"\n            kind: topictype\n          }) {\n            recordId\n          }\n        }\n      }\n    '}).then(function(e){return!e||e.errors?e:{data:e.data.user.bookmarkRemoveOne}})}}});